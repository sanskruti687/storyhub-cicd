<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Poem & Story Writer</title>
  <style>
    body {
      font-family: 'Georgia', serif;
      margin: 0;
      padding: 0;
      background-color: #f3f1e7;
      color: #333;
      transition: background 0.3s, color 0.3s;
    }

    body.dark {
      background-color: #1f1f1f;
      color: #eee;
    }

    header {
      background-color: #594f4f;
      color: white;
      padding: 15px;
      text-align: center;
      font-size: 1.5rem;
    }

    .container {
      max-width: 800px;
      margin: 20px auto;
      background-color: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      transition: background 0.3s;
    }

    body.dark .container {
      background-color: #2c2c2c;
    }

    select, button, input[type=color] {
      margin: 10px 5px;
      padding: 8px;
      font-size: 1rem;
      border-radius: 5px;
      border: 1px solid #ccc;
    }

    textarea {
      width: 100%;
      height: 300px;
      padding: 15px;
      margin-top: 15px;
      font-size: 1.1rem;
      line-height: 1.6;
      border: 1px solid #ccc;
      border-radius: 8px;
      resize: vertical;
      background-color: #fafafa;
      color: #333;
      transition: background 0.3s, color 0.3s;
    }

    body.dark textarea {
      background-color: #444;
      color: #f1f1f1;
    }

    .options {
      margin-bottom: 10px;
    }

    .options label {
      margin-right: 10px;
      font-weight: bold;
    }

    .footer {
      text-align: center;
      padding: 10px;
      font-size: 0.9rem;
      color: #777;
    }

    .theme-toggle {
      float: right;
      margin-right: 10px;
    }
  </style>
</head>
<body>
  <header>
    Poem & Story Writing
    <button class="theme-toggle" onclick="toggleTheme()">üåô Theme</button>
  </header>

  <div class="container">
    <div class="options">
      <label for="mode">Mode:</label>
      <select id="mode">
        <option value="poem">Poem</option>
        <option value="story">Story</option>
      </select>

      <label for="fontFamily">Font:</label>
      <select id="fontFamily">
        <option value="Georgia">Georgia</option>
        <option value="Times New Roman">Times New Roman</option>
        <option value="Courier New">Courier New</option>
        <option value="Arial">Arial</option>
      </select>

      <label for="bgColor">BG:</label>
      <input type="color" id="bgColor">

      <label for="fontColor">Font:</label>
      <input type="color" id="fontColor">

      <button onclick="saveDraft()">üíæ Save</button>
      <button onclick="downloadText()">‚¨áÔ∏è PDF</button>
      <button onclick="clearText()">üóëÔ∏è Clear</button>
    </div>

    <textarea id="writingArea" placeholder="Start writing your poem or story..."></textarea>
  </div>

  <div class="footer">
    &copy; 2025 Poem & Story Writer
  </div>

  <script>
    const writingArea = document.getElementById('writingArea');
    const bgColor = document.getElementById('bgColor');
    const fontColor = document.getElementById('fontColor');
    const fontFamily = document.getElementById('fontFamily');

    window.onload = () => {
      const saved = localStorage.getItem('draftText');
      if (saved) writingArea.value = saved;
    }

    function saveDraft() {
      localStorage.setItem('draftText', writingArea.value);
      alert("Draft saved!");
    }

    function clearText() {
      if (confirm("Are you sure you want to clear your writing?")) {
        writingArea.value = '';
      }
    }

    bgColor.addEventListener('input', (e) => {
      writingArea.style.backgroundColor = e.target.value;
    });

    fontColor.addEventListener('input', (e) => {
      writingArea.style.color = e.target.value;
    });

    fontFamily.addEventListener('change', (e) => {
      writingArea.style.fontFamily = e.target.value;
    });

    function downloadText() {
      const text = writingArea.value;
      const blob = new Blob([text], { type: "text/plain;charset=utf-8" });
      const link = document.createElement("a");
      link.href = URL.createObjectURL(blob);
      link.download = "writing.txt";
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
    }

    function toggleTheme() {
      document.body.classList.toggle("dark");
    }
  </script>
</body>
</html>
